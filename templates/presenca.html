<template>
    <style></style>

    <div class="inline">
        <label for="cmbData">Dia</label>
        <select id="cmbData"></select>
    </div>

    <fieldset>
        <legend>Mensalistas</legend>
        <table id="tblMensal"></table>
    </fieldset>
    <fieldset>
        <legend>Lista de Avulsos</legend>



    </fieldset>



</template>
<script>
    const pageData = main_data.presenca.data
    const pageFunc = main_data.presenca.func
    const pageScreen = document.querySelector('#card-presenca')

    function pageStart(){
        pageFunc.viewRacha()
    }

    pageFunc.viewRacha = ()=>{
        const params = new Object;   
            params.open = 1
        const MyPromisse = queryDB(params,'RCH-0')
        MyPromisse.then((resolve)=>{
            const json = JSON.parse(resolve)
            const sel = pageScreen.querySelector('#cmbData')
            sel.innerHTML = ''
            for(let i=0; i<json.length; i++){
                const opt = document.createElement('option')
                opt.value = json[i].dia
                opt.innerHTML = json[i].dia.viewDate()
                opt.data = json[i]
                sel.appendChild(opt)
            }
        })
    }





    pageStart()

</script>